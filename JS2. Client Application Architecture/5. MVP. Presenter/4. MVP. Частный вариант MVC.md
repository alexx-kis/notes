# MVP. Частный вариант MVC

## Введение

- Когда мы решаем задачу, независимо от того, какую парадигму используем, мы всегда связываемся с архитектурой и организацией
- Объектно-ориентированное программирование (ООП) не предоставляет решений "из коробки" для разделения ответственности в приложениях
- Несмотря на классы и наследование, ООП не диктует четкого разделения ответственности
- Без продуманной архитектуры использование ООП "в лоб" может привести к проблемам, более серьёзным, чем при использовании простого кода на функциях

## Решение

- Чтобы избежать таких ситуаций, на помощь приходят архитектурные паттерны
- Например, MVC (Model-View-Controller) — один из таких паттернов, который помогает организовать и разделить логику приложения на данные (Model), представление (View) и сущность, управляющую обновлением данных при взаимодействии с представлением (Controller)

## MVC

- Паттерн MVC был предложен в 1970-х годах и с тех пор прошел долгий путь, адаптируясь к различным областям и языкам программирования
- При практическом применении часто возникают шероховатости
- Применение теоретического концепта в реальных приложениях приводит к необходимости модификаций
- Таким образом, появились вариации и адаптации MVC, одной из которых является MVP (Model-View-Presenter)

## MVP

- MVP — это частный случай MVC, где взаимодействие между компонентами организовано по-другому
- В MVP вместо контроллера используется презентер
- Презентер находится между моделью и представлением, управляя взаимодействием между ними
- Представление не может напрямую обращаться к модели — всё взаимодействие происходит через презентера, который является "дирижером" в этом процессе

## Отличия

- Основное отличие MVP от MVC заключается в потоке данных: в MVC представление взаимодействует с контроллером, который обновляет модель, а модель обновляет представление
- В MVP всё взаимодействие происходит через презентера, который управляет моделью и представлением

## Применение паттернов

- Паттерны помогают разработчикам придерживаться определенных правил и избегать хаоса в коде
- Когда разработчики соблюдают паттерны, их коллеги могут легко ориентироваться в проекте
- При отсутствии архитектурных решений возникают сложности в поддержке и развитии приложения, так как код может стать запутанным и трудно читаемым

## Пример использования MVP

- Представим, что у нас есть интернет-магазин, в котором нужно заказать товары: чайник, утюг и плиту.
- В этом случае:

  - Данные (модель) — это сам список товаров (чайник, утюг, плита)
  - Представление — это способ отображения данных на экране (например, карточки или список товаров)
  - Презентер — это сущность, которая управляет взаимодействием между моделью и представлением, он отвечает за добавление товаров в корзину, обновление данных и другие операции

- Взаимодействие представления и модели осуществляется через презентер с использованием обратных вызовов (callback)
- Презентер обновляет модель, а модель, в свою очередь, инициирует обновление представления

## Разделение ответственности

- Важно всегда разделять данные и их представление
- Это облегчает разработку и поддержку приложения
- При добавлении нового оформления достаточно изменить только представление, не трогая модель. Аналогично, при добавлении новых данных в модель, представление автоматически обновляется без необходимости изменений в его структуре

- Разделение ответственности — один из ключевых аспектов программирования, будь то на фронтенде или бэкенде
