# 8.2.4 Добавление поддержки обратной связи в презентере доски

- здесь нужно будет реагировать на различные операции
- это будет сделать несложно, так как у нас есть единая точка
- когда происходит какое-то действие `handleViewAction()`, мы можем просить дочерние презентеры сделать что-то с конкретным представлением

- в предыдущем шаге в презентере задачи мы описали методы `setSaving()` и `setDeleting()`, которые изменяют значение состояния представления и вызывают перерисовку

- когда в презентер доски придёт действие "обновить задачу", мы обращаемся к презентеру конкретной задачи и вызовем метод `setSaving()`, и тогда поменяется состояние представления, и текст на кнопках изменится

- то же самое будет происходить при добавлении задачи и удалении задачи

```js
  #handleViewAction = (actionType, updateType, update) => {
    switch (actionType) {
      case UserAction.UPDATE_TASK:
        this.#taskPresenters.get(update.id).setSaving();
        this.#tasksModel.updateTask(updateType, update);
        break;
      case UserAction.ADD_TASK:
        this.#newTaskPresenter.setSaving();
        this.#tasksModel.addTask(updateType, update);
        break;
      case UserAction.DELETE_TASK:
        this.#taskPresenters.get(update.id).setDeleting();
        this.#tasksModel.deleteTask(updateType, update);
        break;
    }
  };
```

- получается, что для добавления вот этих вот эффектов нам нужно:

  - добавить поддержку флагов в самих представлениях
  - научить изменять значения этих флагов в презентерах, которые отвечают за эти представления
  - если есть какой-то главный презентер, добавить эту поддержку и туда

- поскольку у нас операций всего три (обновить, добавить, удалить), мы можем это сделать всё в рамках одного `handleViewAction()`

- хорошо, когда на время сохранения форма блокируется, чтобы ничего нельзя было добавить, пока сохраняется
