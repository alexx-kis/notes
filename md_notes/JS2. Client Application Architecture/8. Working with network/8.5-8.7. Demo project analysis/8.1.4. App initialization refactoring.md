# 8.1.3 Рефакторинг инициализации приложения

- нам нужно отказаться от моков - просто удаляем
- тогда не нужны функции, которые работали с именно моками

### преобразования в модели

- мы заполняли модель с помощью генерации данных случайным образом, в приватном свойстве `tasks` теперь будет просто пустой массив

- из конструктора удаляем код, который мы писали для вывода данных с сервера в консоль

- заводим метод `init()`, как у презентеров
- в этом методе будет происходить асинхронный запрос к серверу
- обращаемся к `this.#tasksApiService` и получаем список задач
- затем прогоняем через метод адаптирования
- всё это сохраняем в массив задач

```js
  async init() {
    try {
      const tasks = await this.#tasksApiService.tasks;
      this.#tasks = tasks.map(this.#adaptToClient);
    } catch(err) {
      this.#tasks = [];
    }
  }
```

- пока ничего не работает
- данные приходят, но почему-то ничего не отображается
- во-первых не забываем про асинхронность
- во-вторых модель никак не уведомляет другие элементы приложения о том, что что-то изменилось
- пока мы получили данные, записали их в массив, но об этом никому не сообщили, поэтому интерфейс пустой
- нам нужно научить модель уведомлять о новых данных
