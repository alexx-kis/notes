# 9.23. Введение в React Testing Library

- при тестировании компонентов мы также будем писать юнит-тесты, где-то это будут интеграционные тесты, потому что мы будем проверять за один тест несколько моделей поведения этого компонента, и нам потребуются дополнительные инструменты
- таким инструментом в дополнение к Vitest станет Testing Library
- Testing Library - это отдельная библиотека, которая позволяет тестировать визуальную часть интерфейса при применении различных фреймворков и библиотек наподобие React
- Testing Library существует в виде отдельных имплементаций для react, react native, svelte итд - это универсальная библиотека, мы будем смотреть на неё с позиции React Testing Library, которая разрабатывалась с одним очень важным принципом - ориентация на пользователя и его поведение
- компоненты можно проверять разными способами
- например, если у компонента есть состояние, мы можем проверять, правильно ли компонент отрисовывается путём изменения его состояния
- то есть мы можем вторгнуться в личное пространство компонента, как-то поменять состояние, и посмотреть, правильно ли компонент отображается
- этот подход в контексте React применялся довольно часто, есть отдельный инструмент enzym, который позволяет проверять поведение компонентов, его особенность в том, что он позволяет вторгаться во внутренности компонента и тем самым нарушает принцип инкапсуляции
- чтобы убедиться, что компонент действительно работает правильно, этого делать не нужно
- в качестве альтернативного решения появилась Testing Library
- принципы для проверки корректности работы интерфейса (компонентов)
    - если компонент отображается правильно, если пользователь может получить то, что мы подразумеваем при создании компонента, значит компонент действительно работает правильно
    - мы не должны завязываться на разметку, которую формируют компоненты, потому что пользователи не работают с разметкой, пользователи работают с интерфейсом, который получается в результате рендера компонента

- например, на странице есть заголовок и кнопка "начать" [какое-то действие]
- чтобы убедиться, что компонент страницы работает правильно, мы должны понять, какую важную информацию компонент предоставляет, ради чего мы его создавали
- мы можем написать тест: мы должны убедиться, что после рендера компонента, появляется надпись и есть кнопка с определённым поведением
- для этого нам не нужно завязываться на разметку, мы можем оперировать теми же подходами, которыми пользуется пользователь
- таким образом мы сможем довольно просто тестировать компоненты и убеждаться, что они действительно работают

- React Testing Library предоставляет для этого всё, что необходимо: 
    1. саму методологию, что мы ориентируемся на пользовательский опыт и проверяем, как компоненты взаимодействуют друг с другом, как они отображаются в интерфейсе
    2. простой API, чтобы мы могли проверить, есть ли соответствующий элемент на странице
    3. другие необходимые функции, которые упрощают написание тестов

Нюансы:
- компоненты бывают разные, есть максимально простые компоненты, типа Loader
- такой компонент проверить просто
- фактически нужно отрендерить этот компонент и, попробовать найти текст, который получился в результате
- есть более сложные компоненты, которые подключены к хранилищу
- чтобы протестировать такие компоненты, нужно подготовиться и решить несколько организационных моментов - замена зависимостей, чтобы мы могли что-то дальше делать

- начнём с простого - посмотрим, какие зависимости нужны для работы React Testing Library

- у Testing Library есть сайт testing-library.com