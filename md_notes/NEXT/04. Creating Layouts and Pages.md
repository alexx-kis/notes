# Создание разметок и страниц

- пока что у приложения только главная страница `page.tsx`

## Вложенная маршрутизация

- Next.js использует маршрутизацию файловой системы, где папки используются для создания вложенных маршрутов
- каждая папка представляет **сегмент маршрута**, который сопоставляется с сегментом URL

![alt text](images/folders-to-url-segments.avif)

- можно создать отдельные UIs для каждого маршрута используя файлы layout.tsx и `page.tsx`

- `page.tsx` - это специальный файл Next.js который экспортирует React компонент, и это необходимо для того, чтобы маршрут был доступен
- в нашем приложении уже есть файл `page.tsx` - это главная страница, связана с маршрутом `/`

- чтобы создать вложенный маршрут, можно вкладывать папки одна в другую и добавлять внутрь файлы `page.tsx`:

![alt text](images/dashboard-route.avif)

- `/app/dashboard/page.tsx` связан с путём `/dashboard` - создадим

## Создание страницы dashboard

- создадим новую папку dashboard внутри `/app`
- затем создадим новый файл `page.tsx` внутри папки dashboard:

```tsx
// dashboard/page.tsx
export default function Page() {
  return <p>Dashboard Page</p>;
}
```

- теперь убедимся, что сервер для разработки запущен и перейдём на http://localhost:3000/dashboard
- мы должны увидеть текст "Dashboard Page"

- вот так можно создавать разные страницы в Next.js - создавать новый сегмент маршрута используя папку и затем создавать внутри файл `page.tsx`

- имея специальное имя для файлов `page`, Next.js позволяет размещать UI компоненты, тестовые файлы и другой связанный код с маршрутом
- только контент внутри файла `page` будет публично доступен
- например, `/ui` и `/lib` папки размещены внутри папки `/app` вместе с маршрутами

## Практика: создание страница of dashboard

1. страница Customers

   - создадим страницу `customers`, которая должна быть доступна по маршруту `http://localhost:3000/dashboard/customers`
   - пока что она должна возвращать только элемент `<p>Customers Page</p>`

2. страница Invoices

   - создадим страницу `invoices`, которая должна быть доступна по маршруту `http://localhost:3000/dashboard/invoices`
   - пока что она должна возвращать только элемент `<p>Invoices Page</p>`


## Создание layout of dashboard

- у дашбордов есть своего рода навигация, которая общая для многих страниц
- в Next.js можно использовать специальный layout.tsx файл, чтобы создать UI, который будет общим для многих страниц
- создадим layout для страниц дашборда

- внутри папки `/dashboard` добавим файл layout.tsx и вставим следующий код:

```tsx
import SideNav from '@/app/ui/dashboard/sidenav';
 
export default function Layout({ children }: { children: React.ReactNode }) {
  return (
    <div className="flex h-screen flex-col md:flex-row md:overflow-hidden">
      <div className="w-full flex-none md:w-64">
        <SideNav />
      </div>
      <div className="flex-grow p-6 md:overflow-y-auto md:p-12">{children}</div>
    </div>
  );
}
```

- здесь импортируется компонент `<SideNav />`
- компонент `<Layout />` принимает children в качестве props
- этот children может быть либо страницей, либо другим layout
- в данном случае страницы внутри `/dashboard` будут автоматически вложены в `<Layout />:

![alt text](images/shared-layout.avif)

- проверим, что всё правильно работает: на странице должен появиться сайдбар

- преимущество использования layout в Next.js - это то, что при навигации обновляются только компоненты страниц, пока layout не перерисовывается
- это называется частичный рендеринг, который сохраняет клиентское состояние React в макете при переходе между страницами


///

Root layout
In Chapter 3, you imported the Inter font into another layout: /app/layout.tsx. As a reminder:

/app/layout.tsx

import '@/app/ui/global.css';
import { inter } from '@/app/ui/fonts';
 
export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="en">
      <body className={`${inter.className} antialiased`}>{children}</body>
    </html>
  );
}
This is called a root layout and is required in every Next.js application. Any UI you add to the root layout will be shared across all pages in your application. You can use the root layout to modify your <html> and <body> tags, and add metadata (you'll learn more about metadata in a later chapter).

Since the new layout you've just created (/app/dashboard/layout.tsx) is unique to the dashboard pages, you don't need to add any UI to the root layout above.