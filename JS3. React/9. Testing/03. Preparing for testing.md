# Подготовка к тестированию

- Автоматизированное тестирование — это код, который проверяет работу другого кода
- На первых порах оно может показаться дополнительной нагрузкой, но с развитием проекта тесты начинают приносить ощутимую пользу, позволяя отлавливать ошибки на ранних этапах

## 1. Хранение файлов с тестами

- Тесты пишутся в отдельных файлах, чтобы разделить основной код и проверочный
- Обычно для тестов используют постфикс test в имени файла
- Например:
  - Модуль: multiply.js
  - Тесты для него: multiply.test.js

### Стратегии размещения тестов

- Есть два подхода:
  1. Рядом с основными модулями:

```bash
/src
  /modules
    multiply.js
    multiply.test.js
```

- Плюсы:
  - Удобно переключаться между кодом и тестами
  - Сразу видно, какие модули не покрыты тестами
  - Легче мотивировать себя писать тесты (видно, где их не хватает)

  - Минусы:
    - Тестовые файлы "засоряют" основную структуру проекта
  2. В отдельной директории:

```bash
/tests
  /modules
    multiply.test.js
  /another-module
    another-module.test.js
```

- Плюсы:
  - Тесты хранятся отдельно, что сохраняет порядок в проекте

- Минусы:
  - Постоянные переключения между директориями
  - Труднее отслеживать, для каких модулей тесты ещё не написаны.

- Вывод: Мы будем придерживаться первого подхода — тесты хранятся рядом с модулями

## 2. Запуск тестов и проверки

### Проверки (Assertions)

- Каждый тест проверяет выполнение определённого условия
- Например, результат функции должен совпадать с ожидаемым
- Для этого используют assertion-библиотеки

- Принцип работы:
  - Сравнивается ожидаемое значение с фактическим
  - Если утверждение верно, тест проходит; если нет, тест падает

- Пример на псевдокоде:

```js
умножить(2, 3).ожидаюРезультат(6);
```

### Запуск тестов

- Так как тестов будет много, запускать их вручную неудобно. Для этого используют test runner — инструмент, который:
  - Ищет файлы с тестами (например, по имени \*.test.js)
  - Выполняет тесты и показывает результаты

## 3. Необходимые инструменты

- Для тестирования потребуется:
  1. Тестовый фреймворк — для описания тестовых случаев (например, Jest, Mocha)
  2. Assertion-библиотека — для проверок условий (например, встроенная в Jest или Chai)
  3. Test runner — для поиска и запуска тестов (например, Jest)

- Все эти инструменты можно устанавливать и настраивать отдельно, но современные фреймворки (например, Jest) объединяют всё в одном пакете, что делает процесс проще

## Резюме

- Хранение тестов: файлы с постфиксом test лучше размещать рядом с тестируемыми модулями
- Проверки: использовать assertion-библиотеки для проверки условий
- Запуск тестов: использовать test runner для автоматизации
