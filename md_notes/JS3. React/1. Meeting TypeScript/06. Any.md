# Тип any в TypeScript

- Тип any в TypeScript представляет собой особый тип, отсутствующий в JavaScript, и используется, когда невозможно определить конкретный тип

## Определение типа any

- `any` является универсальным типом, который может представлять любое значение
- Если переменной не задан тип явно и `TypeScript` не может вывести его автоматически, переменной присваивается тип any

```ts
// Переменная не инициализирована и не имеет аннотации типа.
// Её тип становится `any`.
let someVar;

// Присвоение значения не меняет тип.
// Тип переменной остаётся `any`.
someVar = 100;
```

## Опасность использования any

- Типизация в TypeScript создаёт ограничения на значения и действия над ними, обеспечивая проверки типов на этапе разработки
- Однако использование any отменяет все проверки, позволяя выполнять любые операции, даже некорректные

```ts
// Тип переменной — any
let anotherVar: any = 555;
let obj: any = {};

// Ошибок нет, несмотря на некорректные действия
console.log(anotherVar / obj);
obj();
```

- Появление `any` делает код небезопасным и лишает TypeScript своих преимуществ

## Рекомендации по использованию any

- Избегайте неявного применения
- TypeScript присваивает тип `any` автоматически, если не указана аннотация типа и отсутствует явное значение

```ts
// Плохо: неявное присвоение типа `any`
let mySuperVar;
mySuperVar = 10;

// Лучше: явное указание `any`
let someAnyNumber: any = 10;
```

- Используйте `any` при миграции
- В процессе перехода с `JavaScript` на `TypeScript` может быть сложно сразу типизировать весь код
- На промежуточных этапах `any` может быть полезен, но постепенно его необходимо удалять

## Контроль использования `any`

- Настройки компилятора TypeScript, например, noImplicitAny, и правила линтера помогут отслеживать и минимизировать использование `any`

## Пример проблемы с `any`

- Метод JSON.parse возвращает значение типа `any`, что может привести к потере проверок типов

```ts
// string
const somethingJson = '{ "title": "Hello TypeScript" }';

// Тип — `any`
const somethingObject = JSON.parse(somethingJson);

// Ошибок TypeScript нет, но свойство `lost` отсутствует
console.log(somethingObject.lost);
```

## Решение: аннотации типов

- Для сохранения проверок типов и автодополнения используйте аннотации

```ts
// string
const somethingJson = '{ "title": "Hello TypeScript" }';

// Тип объекта описан явно
const data: { title: string } = JSON.parse(somethingJson);

// Ошибка TS (ts2339): свойство `lost` отсутствует в описанном типе
console.log(data.lost);
```

## Вывод

- `any` следует использовать с осторожностью. Для повышения безопасности и читабельности кода лучше избегать его применения, заменяя точными аннотациями типов.
